import{_ as G,L,r as S,N as V,j as T,Q as r,R as x,S as n,U as s,W as i,$ as C,aq as j,ar as E,a1 as F,a3 as Q,Y as v,X as g,a4 as u,as as R,Z as W,a5 as X,a6 as Y,a7 as p,am as Z,a9 as A}from"./index.a1738762.js";import{_ as H,a as J}from"./InputNumber.fb72ab3b.js";import{_ as K}from"./Avatar.06b05367.js";import{_ as O}from"./Space.1315e5e1.js";import{_ as ee}from"./Modal.e05e6888.js";import{_ as te}from"./Form.aaab8c7d.js";import{_ as ne}from"./Card.94cc3dca.js";import"./Input.4862146b.js";import"./utils.4ff49fc5.js";const oe=c=>(X("data-v-18ea2e3d"),c=c(),Y(),c),ae=oe(()=>n("div",{class:"imgDes",style:{"text-align":"center"}},[n("h1",null,"-\u8089\u6842\u6372\u9078\u7528\u6750\u6599-"),n("p",null,[p(" \u65E5\u672C\u9802\u7D1AGaban\u8089\u6842\u7C89"),n("br"),p(" \u67EF\u514B\u862D\u8089\u6842\u7C89"),n("br"),p(" \u65E5\u672C\u4E0A\u767D\u7CD6"),n("br")])],-1)),se={class:"wrap",style:{background:"url(../../assets/IMG_1071.PNG)"}},ie=["onClick"],le=["src"],_e={style:{"font-size":"32px"}},re={style:{"white-space":"pre"}},ue=p(" \u52A0\u5165\u8CFC\u7269\u8ECA "),pe=p(" \u52A0\u5165\u8CFC\u7269\u8ECA "),ce={__name:"ProductsView",setup(c){const U=L(),f=S(!1),{addCart:y}=U,_=V([]),m=S(1),d=6,h=T(()=>_.slice(m.value*d-d,m.value*d)),t=V({_id:"",image:[],name:"",description:"",price:"",idx:-1,submitting:!1}),$=(l,e)=>{f.value=!0,t._id=l,e>-1&&(t.image=_[e].image,t.name=_[e].name,t.description=_[e].description,t.price=_[e].price),t.idx=e,t.submitting=!1,t.showModal=!1};return(async()=>{try{const{data:l}=await j.get("/products");_.push(...l.result.map(e=>({...e,quantity:0})))}catch{E.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(l,e)=>{const N=K,w=J,b=O,k=Z,I=ee,M=te,P=ne,z=A,B=F,D=H;return r(),x(C,null,[ae,n("div",se,[s(B,{cols:"1 s:2 m:3",responsive:"screen"},{default:i(()=>[(r(!0),x(C,null,Q(g(h),(o,q)=>(r(),v(z,{key:q},{default:i(()=>[g(h).length>0?(r(),v(P,{key:0},{cover:i(()=>[n("a",{onClick:a=>$(o._id,q)},[n("img",{style:{height:"300px"},src:o.image},null,8,le)],8,ie),s(I,{style:{width:"400px"},show:f.value,"onUpdate:show":e[2]||(e[2]=a=>f.value=a),preset:"card"},{default:i(()=>[s(N,{size:300,src:t.image},null,8,["src"]),n("h1",_e,"\u5546\u54C1\u540D\u7A31:"+u(t.name),1),n("h3",re,"\u5546\u54C1\u63CF\u8FF0:"+u(t.description),1),n("h3",null,"$"+u(t.price),1),s(b,{vertical:""},{default:i(()=>[(r(),v(w,{value:t.quantity,"onUpdate:value":e[0]||(e[0]=a=>t.quantity=a),key:t._id,placeholder:"\u8CFC\u8CB7\u6578\u91CF",min:1},null,8,["value"]))]),_:1}),s(k,{style:{"margin-top":"20px"},onClick:e[1]||(e[1]=a=>g(y)({product:t._id,quantity:t.quantity})),strong:"",secondary:"",round:"",color:"#893517"},{default:i(()=>[ue]),_:1})]),_:1},8,["show"])]),default:i(()=>[n("h1",null,u(o.name),1),n("h3",null,"NT$"+u(o.price),1),s(M,{modelValue:l.valid,"onUpdate:modelValue":e[3]||(e[3]=a=>l.valid=a),onSubmit:R(l.submit,["prevent"])},{default:i(()=>[s(b,{vertical:""},{default:i(()=>[s(w,{value:o.quantity,"onUpdate:value":a=>o.quantity=a,placeholder:"\u8CFC\u8CB7\u6578\u91CF",min:1,style:{"margin-left":"80px"}},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1032,["modelValue","onSubmit"]),s(k,{onClick:a=>g(y)({product:o._id,quantity:o.quantity}),strong:"",secondary:"",round:"",color:"#893517",style:{"margin-top":"20px","margin-left":"80px"}},{default:i(()=>[pe]),_:2},1032,["onClick"])]),_:2},1024)):W("",!0)]),_:2},1024))),128))]),_:1})]),s(D,{page:m.value,"onUpdate:page":e[4]||(e[4]=o=>m.value=o),"page-count":Math.ceil(_.length/d),style:{float:"right"},"default-page-size":6},null,8,["page","page-count"])],64)}}},qe=G(ce,[["__scopeId","data-v-18ea2e3d"]]);export{qe as default};
