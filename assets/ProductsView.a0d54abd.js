import{_ as j,L as E,r as h,N as S,j as G,Q as _,R as U,S as n,E as L,aq as F,U as i,W as l,$ as C,ar as Q,as as R,a1 as W,a3 as X,Y as b,X as m,a4 as u,at as Y,Z,a5 as A,a6 as H,a7 as p,am as J,a9 as K}from"./index.24ebcde4.js";import{_ as O,a as ee}from"./InputNumber.d65df429.js";import{_ as te}from"./Avatar.16b4a53f.js";import{_ as ne}from"./Space.d279c0d6.js";import{_ as oe}from"./Modal.7193daf4.js";import{_ as ae}from"./Form.ca64e80c.js";import{_ as se}from"./Card.128203ba.js";import"./utils.fa7c8f31.js";const ie=c=>(A("data-v-bef02d4b"),c=c(),H(),c),le=ie(()=>n("div",{class:"imgDes",style:{"text-align":"center"}},[n("h1",null,"-\u8089\u6842\u6372\u9078\u7528\u6750\u6599-"),n("p",null,[p(" \u65E5\u672C\u9802\u7D1AGaban\u8089\u6842\u7C89"),n("br"),p(" \u67EF\u514B\u862D\u8089\u6842\u7C89"),n("br"),p(" \u65E5\u672C\u4E0A\u767D\u7CD6"),n("br")])],-1)),re={class:"container"},_e={class:"wrap",style:{background:"url(../../assets/IMG_1071.jpg)"}},ue=["onClick"],pe=["src"],ce={style:{"font-size":"32px"}},de={style:{"white-space":"pre"}},me=p(" \u52A0\u5165\u8CFC\u7269\u8ECA "),ge=p(" \u52A0\u5165\u8CFC\u7269\u8ECA "),ve={__name:"ProductsView",setup(c){const $=E(),g=h(!1),{addCart:w}=$,x=S([]),d=h(1),v=6,f=h(""),r=G(()=>x.filter(a=>a.name.match(f.value)).slice(d.value*v-v,d.value*v)),t=S({_id:"",image:[],name:"",description:"",price:"",idx:-1,submitting:!1}),I=a=>{const e=r.value.findIndex(y=>y._id===a);g.value=!0,t._id=a,e>-1&&(t.image=r.value[e].image,t.name=r.value[e].name,t.description=r.value[e].description,t.price=r.value[e].price),t.idx=e,t.submitting=!1,t.showModal=!1};return(async()=>{try{const{data:a}=await Q.get("/products");x.push(...a.result.map(e=>({...e,quantity:0})))}catch{R.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(a,e)=>{const y=te,k=ee,V=ne,q=J,N=oe,M=ae,z=se,B=K,D=W,P=O;return _(),U(C,null,[le,n("div",re,[L(n("input",{style:{width:"200px",display:"block"},type:"search","onUpdate:modelValue":e[0]||(e[0]=o=>f.value=o),placeholder:"\u5C0B\u627E\u5546\u54C1"},null,512),[[F,f.value]]),n("div",_e,[i(D,{cols:"1 s:2 m:3",responsive:"screen"},{default:l(()=>[(_(!0),U(C,null,X(m(r),(o,T)=>(_(),b(B,{key:T},{default:l(()=>[m(r).length>0?(_(),b(z,{key:0},{cover:l(()=>[n("a",{onClick:s=>I(o._id)},[n("img",{style:{height:"300px"},src:o.image},null,8,pe)],8,ue),i(N,{style:{width:"400px"},show:g.value,"onUpdate:show":e[3]||(e[3]=s=>g.value=s),preset:"card"},{default:l(()=>[i(y,{size:300,src:t.image},null,8,["src"]),n("h1",ce,"\u5546\u54C1\u540D\u7A31:"+u(t.name),1),n("h3",de,"\u5546\u54C1\u63CF\u8FF0:"+u(t.description),1),n("h3",null,"$"+u(t.price),1),i(V,{vertical:""},{default:l(()=>[(_(),b(k,{value:t.quantity,"onUpdate:value":e[1]||(e[1]=s=>t.quantity=s),key:t._id,placeholder:"\u8CFC\u8CB7\u6578\u91CF",min:0},null,8,["value"]))]),_:1}),i(q,{style:{"margin-top":"20px"},onClick:e[2]||(e[2]=s=>m(w)({product:t._id,quantity:t.quantity})),strong:"",secondary:"",round:"",color:"#893517"},{default:l(()=>[me]),_:1})]),_:1},8,["show"])]),default:l(()=>[n("h1",null,u(o.name),1),n("h3",null,"NT$"+u(o.price),1),i(M,{modelValue:a.valid,"onUpdate:modelValue":e[4]||(e[4]=s=>a.valid=s),onSubmit:Y(a.submit,["prevent"])},{default:l(()=>[i(V,{vertical:""},{default:l(()=>[i(k,{value:o.quantity,"onUpdate:value":s=>o.quantity=s,placeholder:"\u8CFC\u8CB7\u6578\u91CF",min:0,style:{"margin-left":"80px"}},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1032,["modelValue","onSubmit"]),i(q,{onClick:s=>m(w)({product:o._id,quantity:o.quantity}),strong:"",secondary:"",round:"",color:"#893517",style:{"margin-top":"20px","margin-left":"80px"}},{default:l(()=>[ge]),_:2},1032,["onClick"])]),_:2},1024)):Z("",!0)]),_:2},1024))),128))]),_:1}),i(P,{page:d.value,"onUpdate:page":e[5]||(e[5]=o=>d.value=o),"page-count":2,style:{float:"right"},"default-page-size":6},null,8,["page"])])])],64)}}},Se=j(ve,[["__scopeId","data-v-bef02d4b"]]);export{Se as default};
