import{_ as T,L as E,r as x,N as S,j as L,Q as p,R as C,S as a,E as j,aq as F,U as i,W as l,Y as c,X as d,$,ar as Q,as as R,a1 as W,a3 as X,a4 as m,at as Y,Z,a5 as A,a6 as H,a7 as g,am as J,a9 as K}from"./index.56214f1e.js";import{_ as O,a as ee}from"./InputNumber.5f31849f.js";import{_ as te}from"./Avatar.ddd3e294.js";import{_ as ne}from"./Space.d0f866c7.js";import{_ as ae}from"./Modal.dec7ddd5.js";import{_ as oe}from"./Form.d09c95e4.js";import{_ as se}from"./Card.30a9a723.js";import"./Input.0b76b6fa.js";import"./utils.4f816027.js";const le=v=>(A("data-v-e61bebe6"),v=v(),H(),v),ie=le(()=>a("div",{class:"imgDes",style:{"text-align":"center"}},[a("h1",null,"-\u8089\u6842\u6372\u9078\u7528\u6750\u6599-"),a("p",null,[g(" \u65E5\u672C\u9802\u7D1AGaban\u8089\u6842\u7C89"),a("br"),g(" \u67EF\u514B\u862D\u8089\u6842\u7C89"),a("br"),g(" \u65E5\u672C\u4E0A\u767D\u7CD6"),a("br")])],-1)),ue={class:"container"},re={class:"wrap",style:{background:"url(../../assets/IMG_1071.PNG)"}},pe=["onClick"],_e=["src"],ce={style:{"font-size":"32px"}},de={style:{"white-space":"pre"}},me=g(" \u52A0\u5165\u8CFC\u7269\u8ECA "),ge=g(" \u52A0\u5165\u8CFC\u7269\u8ECA "),ve={__name:"ProductsView",setup(v){const z=E(),y=x(!1),{addCart:w}=z,h=S([]),_=x(1),r=6,f=x(""),u=L(()=>h.slice(_.value*r-r,_.value*r).filter(o=>o.name.includes(f.value))),t=S({_id:"",image:[],name:"",description:"",price:"",idx:-1,submitting:!1}),M=o=>{const e=u.value.findIndex(b=>b._id===o);y.value=!0,t._id=o,e>-1&&(t.image=u.value[e].image,t.name=u.value[e].name,t.description=u.value[e].description,t.price=u.value[e].price),t.idx=e,t.submitting=!1,t.showModal=!1};return(async()=>{try{const{data:o}=await Q.get("/products");h.push(...o.result.map(e=>({...e,quantity:0})))}catch{R.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(o,e)=>{const b=te,k=ee,U=ne,V=J,N=ae,I=oe,P=se,B=K,D=W,q=O;return p(),C($,null,[ie,a("div",ue,[j(a("input",{style:{width:"200px",margin:"10px auto",display:"block"},type:"search","onUpdate:modelValue":e[0]||(e[0]=n=>f.value=n),placeholder:"\u5C0B\u627E\u5546\u54C1"},null,512),[[F,f.value]]),a("div",re,[i(D,{cols:"1 s:2 m:3",responsive:"screen"},{default:l(()=>[(p(!0),C($,null,X(d(u),(n,G)=>(p(),c(B,{key:G},{default:l(()=>[d(u).length>0?(p(),c(P,{key:0},{cover:l(()=>[a("a",{onClick:s=>M(n._id)},[a("img",{style:{height:"300px"},src:n.image},null,8,_e)],8,pe),i(N,{style:{width:"400px"},show:y.value,"onUpdate:show":e[3]||(e[3]=s=>y.value=s),preset:"card"},{default:l(()=>[i(b,{size:300,src:t.image},null,8,["src"]),a("h1",ce,"\u5546\u54C1\u540D\u7A31:"+m(t.name),1),a("h3",de,"\u5546\u54C1\u63CF\u8FF0:"+m(t.description),1),a("h3",null,"$"+m(t.price),1),i(U,{vertical:""},{default:l(()=>[(p(),c(k,{value:t.quantity,"onUpdate:value":e[1]||(e[1]=s=>t.quantity=s),key:t._id,placeholder:"\u8CFC\u8CB7\u6578\u91CF",min:0},null,8,["value"]))]),_:1}),i(V,{style:{"margin-top":"20px"},onClick:e[2]||(e[2]=s=>d(w)({product:t._id,quantity:t.quantity})),strong:"",secondary:"",round:"",color:"#893517"},{default:l(()=>[me]),_:1})]),_:1},8,["show"])]),default:l(()=>[a("h1",null,m(n.name),1),a("h3",null,"NT$"+m(n.price),1),i(I,{modelValue:o.valid,"onUpdate:modelValue":e[4]||(e[4]=s=>o.valid=s),onSubmit:Y(o.submit,["prevent"])},{default:l(()=>[i(U,{vertical:""},{default:l(()=>[i(k,{value:n.quantity,"onUpdate:value":s=>n.quantity=s,placeholder:"\u8CFC\u8CB7\u6578\u91CF",min:0,style:{"margin-left":"80px"}},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1032,["modelValue","onSubmit"]),i(V,{onClick:s=>d(w)({product:n._id,quantity:n.quantity}),strong:"",secondary:"",round:"",color:"#893517",style:{"margin-top":"20px","margin-left":"80px"}},{default:l(()=>[ge]),_:2},1032,["onClick"])]),_:2},1024)):Z("",!0)]),_:2},1024))),128))]),_:1}),f.value===""?(p(),c(q,{key:0,page:_.value,"onUpdate:page":e[5]||(e[5]=n=>_.value=n),"page-count":Math.ceil(h.length/r),style:{float:"right"},"default-page-size":6},null,8,["page","page-count"])):(p(),c(q,{key:1,page:_.value,"onUpdate:page":e[6]||(e[6]=n=>_.value=n),"page-size":r,"onUpdate:page-size":e[7]||(e[7]=n=>r=n),"page-count":Math.ceil(d(u).length/r),style:{float:"right"},"default-page-size":6},null,8,["page","page-count"]))])])],64)}}},Se=T(ve,[["__scopeId","data-v-e61bebe6"]]);export{Se as default};
