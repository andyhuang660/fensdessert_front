import{_ as T,L as E,r as w,N as x,j as L,Q as u,R as C,E as j,aq as F,S as n,U as i,W as l,Y as c,X as d,$,ar as Q,as as R,a1 as W,a3 as X,a4 as m,at as Y,Z,a5 as A,a6 as H,a7 as g,am as J,a9 as K}from"./index.cb3a6427.js";import{_ as O,a as ee}from"./InputNumber.3b646159.js";import{_ as te}from"./Avatar.f7e3df63.js";import{_ as ne}from"./Space.5b31cde4.js";import{_ as oe}from"./Modal.43933c6b.js";import{_ as ae}from"./Form.90665538.js";import{_ as se}from"./Card.08d29b77.js";import"./Input.6df0134a.js";import"./utils.07031952.js";const le=v=>(A("data-v-56767dc2"),v=v(),H(),v),ie=le(()=>n("div",{class:"imgDes",style:{"text-align":"center"}},[n("h1",null,"-\u8089\u6842\u6372\u9078\u7528\u6750\u6599-"),n("p",null,[g(" \u65E5\u672C\u9802\u7D1AGaban\u8089\u6842\u7C89"),n("br"),g(" \u67EF\u514B\u862D\u8089\u6842\u7C89"),n("br"),g(" \u65E5\u672C\u4E0A\u767D\u7CD6"),n("br")])],-1)),re={class:"wrap",style:{background:"url(../../assets/IMG_1071.PNG)"}},ue=["onClick"],_e=["src"],pe={style:{"font-size":"32px"}},ce={style:{"white-space":"pre"}},de=g(" \u52A0\u5165\u8CFC\u7269\u8ECA "),me=g(" \u52A0\u5165\u8CFC\u7269\u8ECA "),ge={__name:"ProductsView",setup(v){const M=E(),y=w(!1),{addCart:k}=M,r=x([]),_=w(1),p=6,f=w(""),h=L(()=>r.slice(_.value*p-p,_.value*p).filter(a=>a.name.includes(f.value))),t=x({_id:"",image:[],name:"",description:"",price:"",idx:-1,submitting:!1}),N=(a,e)=>{y.value=!0,t._id=a,e>-1&&(t.image=r[e].image,t.name=r[e].name,t.description=r[e].description,t.price=r[e].price),t.idx=e,t.submitting=!1,t.showModal=!1};return(async()=>{try{const{data:a}=await Q.get("/products");r.push(...a.result.map(e=>({...e,quantity:0})))}catch{R.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(a,e)=>{const z=te,b=ee,V=ne,q=J,I=oe,P=ae,B=se,D=K,G=W,S=O;return u(),C($,null,[ie,j(n("input",{type:"search","onUpdate:modelValue":e[0]||(e[0]=o=>f.value=o),placeholder:"\u5C0B\u627E\u5546\u54C1"},null,512),[[F,f.value]]),n("div",re,[i(G,{cols:"1 s:2 m:3",responsive:"screen"},{default:l(()=>[(u(!0),C($,null,X(d(h),(o,U)=>(u(),c(D,{key:U},{default:l(()=>[d(h).length>0?(u(),c(B,{key:0},{cover:l(()=>[n("a",{onClick:s=>N(o._id,U)},[n("img",{style:{height:"300px"},src:o.image},null,8,_e)],8,ue),i(I,{style:{width:"400px"},show:y.value,"onUpdate:show":e[3]||(e[3]=s=>y.value=s),preset:"card"},{default:l(()=>[i(z,{size:300,src:t.image},null,8,["src"]),n("h1",pe,"\u5546\u54C1\u540D\u7A31:"+m(t.name),1),n("h3",ce,"\u5546\u54C1\u63CF\u8FF0:"+m(t.description),1),n("h3",null,"$"+m(t.price),1),i(V,{vertical:""},{default:l(()=>[(u(),c(b,{value:t.quantity,"onUpdate:value":e[1]||(e[1]=s=>t.quantity=s),key:t._id,placeholder:"\u8CFC\u8CB7\u6578\u91CF",min:0},null,8,["value"]))]),_:1}),i(q,{style:{"margin-top":"20px"},onClick:e[2]||(e[2]=s=>d(k)({product:t._id,quantity:t.quantity})),strong:"",secondary:"",round:"",color:"#893517"},{default:l(()=>[de]),_:1})]),_:1},8,["show"])]),default:l(()=>[n("h1",null,m(o.name),1),n("h3",null,"NT$"+m(o.price),1),i(P,{modelValue:a.valid,"onUpdate:modelValue":e[4]||(e[4]=s=>a.valid=s),onSubmit:Y(a.submit,["prevent"])},{default:l(()=>[i(V,{vertical:""},{default:l(()=>[i(b,{value:o.quantity,"onUpdate:value":s=>o.quantity=s,placeholder:"\u8CFC\u8CB7\u6578\u91CF",min:0,style:{"margin-left":"80px"}},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1032,["modelValue","onSubmit"]),i(q,{onClick:s=>d(k)({product:o._id,quantity:o.quantity}),strong:"",secondary:"",round:"",color:"#893517",style:{"margin-top":"20px","margin-left":"80px"}},{default:l(()=>[me]),_:2},1032,["onClick"])]),_:2},1024)):Z("",!0)]),_:2},1024))),128))]),_:1})]),f.value===""?(u(),c(S,{key:0,page:_.value,"onUpdate:page":e[5]||(e[5]=o=>_.value=o),"page-count":Math.ceil(r.length/p),style:{float:"right"},"default-page-size":6},null,8,["page","page-count"])):(u(),c(S,{key:1,page:_.value,"onUpdate:page":e[6]||(e[6]=o=>_.value=o),"page-count":Math.ceil(d(h).length/p),style:{float:"right"},"default-page-size":6},null,8,["page","page-count"]))],64)}}},Ue=T(ge,[["__scopeId","data-v-56767dc2"]]);export{Ue as default};
